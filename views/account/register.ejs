<!DOCTYPE html>
<html lang="en">
  <%- include("../partials/head.ejs") %>
  <body>
      <main>
        <h1><%= title %></h1>
        <%- messages() %>
        <% if (errors) { %>
           <ul class="notice">
              <% errors.array().forEach(error=> { %>
                 <li><%= error.msg %></li>
               <% }) %>
           </ul>
         <% } %>

        <!--form -->
        <form action="/account/register" method="post">
          <label for="first-name">First Name:</label>
          <input
            type="text"
            id="first-name"
            name="account_firstname" 
            required
            data-trail="first-name"
            value="<%= locals.account_firstname %>"
          />

          <label for="last-name">Last Name:</label>
          <input
            type="text"
            id="last-name"
            name="account_lastname"  
            required
            data-trail="last-name"
            value="<%= locals.account_lastname %>"
          />

          <label for="email">Email Address:</label>
          <input
            type="email"
            id="email"
            name="account_email"  
            pattern="^[\w.-]+@[\w.-]+\.[a-zA-Z]{2,3}$"
            required
            data-trail="email"
            value="<%= locals.account_email %>"
          />

          <label for="password">Password:</label>
          <div class="password-wrapper">
            <input
              type="password"
              id="password"
              name="account_password"  
              required
              data-trail="password"
              pattern="(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*]).{12,}"
              title="Password must be at least 12 characters long and contain at least one uppercase letter, one number, and one special character."
            />
            <button
              type="button"
              id="toggle-password"
              aria-label="Toggle Password Visibility"
            >
              👁
            </button>
          </div>
          <span class="form_instruct">Passwords must be at least 12 characters and contain at least 1 number, 1 capital letter and 1 special character</span>
          <button type="submit">Register</button>
        </form>

        <p>Already registered? <a href="/account/login">Login</a></p>
      </main>
    <script src="/js/script.js"></script>
  </body>
</html>